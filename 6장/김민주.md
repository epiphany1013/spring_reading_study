
# 스프링이 사랑한 디자인 패턴

- 디자인 패턴 : 다양한 방법 중 가장 좋은 방법 → 객체 지향 특성과 설계 원칙을 기반으로 함
    - 상속, 인터페이스, 합성을 이용

# 어댑터 패턴

- odbc/jdbc 가 다양한 데이터베이스 시스템을 단일 인터페이스로 조작할 수 있게 해줌
- 개방 폐쇄 원칙과 유사함
    - 예시
        - 변경 전: 각각 따로 존재하는 서비스 객체를 특정 클래스 (ClientWithNoAdapter) 에서 새로 정의
        - 변경 후: AdapterServicA,B 클래스를 따로 만들고, 그 안에서 서비스 객체 정의, runService()라는 공통의 메서드를 만들어 동일한 이름으로 호출되도록 변경

# 프록시 패턴

- 대리로 호출하거나 수행하는 패턴
    - 장점
        - 접근 제어: 실제 객체에 대한 접근을 제어
        - 추가 기능 제공 : 실제 객체의 메소드 호출 전후에 추가 작업 수행 가능
        - 지연 초기화 : 실제 객체의 생성을 지연시킬 수 있음 → 사용 전까지 객체 생성하여 리소스 낭비 방지
        - 보안성 강화 : 민감한 정보를 다루는 객체에 대한 접근을 제어
        - 분산 시스템에서의 사용 : 원격 객체에 대한 접근을 제어하는 원격 프록시를 구현
    - 예시
        - 변경 전: 서비스 객체를 직접적으로 호출
        - 변경 후: 제어가 메인 메서드에서 되는 것이 아니라 프록시에서 됨
    - 포인트
        - 인터페이스를 사용해 실제 서비스와 같은 이름의 메서드 구현
        - 실제 서비스에 대한 참조 변수를 갖는다
        - 프록시는 메서드 호출 → 값을 클라이언트에 전달
        - 실제 서비스 메서드 호출 전에 별도의 로직 수행 가능
    - OCP, DIP 적용된 패턴

# 데코레이터 패턴

- 원본에 장식을 더하는 패턴
    - 프록시 vs 데코레이터 패턴
        - 프록시: 클라이언트에 반환값 그대로 전달 ( 변경 X )
            - 제어의 흐름 변경하거나 별도의 로직 처리
        - 데코레이터 : 반환값에 장식
    - 중요 포인트
        - 인터페이스를 사용해 실제 서비스와 같은 이름의 메서드를 구현
        - 실제 서비스에 대한 참조 변수
        - 실제 서비스의 같은 이름 메서드 호출, 반환값에 내용을 더해 클라이언트에 반환
        - 실제 서비스의 메서드 호출 전후에 별도의 로직 수행
    - OCP, DIP 적용된 패턴
    

# 싱글턴 패턴

- 인스턴스를 하나만 만들어 사용하기 위한 패턴
    - 재사용성이 높아짐
- 필요 요소
    - new 를 실행할 수 없도록 생성자에 private 지정
    - 유일한 단일 객체를 반환할 수 있는 정적 메서드 필요
    - 정적 참조 변수 필요
- 예시
    - 정적 참조 변수에 객체가 할당되어있지 않은 경우에만 new 를 통해 객체를 만들고 할당
    - private 생성자이기에 외부에서 new 를 통해 객체 생성 불가
    - singletonObject, s1,s2,s3가 하나의 단일 객체 참조
    - 단일 객체인 경우 속성을 갖지 않는 것이 정석
    
    ⇒ 전역/ 공유 변수를 가능한 한 사용하지 말라는 지침과 일맥상통
    
- 특징
    - private 생성자를 갖는다
    - 단일 객체 참조 변수를 정적 속성으로 갖는다
    - 단일 객체 참조 변수가 참조하는 단일 객체를 반환하는 getInstance() 정적 메서드를 갖는다
    - 단일 객체는 쓰기 가능한 속성을 갖지 않는것이 정석이다

# 템플릿 메서드 패턴

- 상위 클래스의 견본 메서드에서 하위 클래스가 오버라이딩한 메서드를 호출하는 패턴
- 예시
    - 템플릿을 제공하는 메서드, 하위 클래스에게 구현을 강제하는 추상 메서드, 선택적으로 오버라이딩 할 수 있는 메서드
    - 상위 클래스에 공통 로직을 수행하는 템플릿 메서드와 하위 클래스에 오버라이딩을 강제하는 추상 메서드, 훅 메서드를 두는 패턴 : 템플릿 메서드 패턴
- DIP 활용 패턴

# 팩터리 메서드 패턴

- 하위 클래스에서 **팩터리 메서드를 오버라이딩**해 객체를 반환하게 하는 메서드 패턴
- 오버라이드된 메서드가 객체를 반환하는 패턴
- DIP 활용 패턴

# 전략 패턴

- 중요 포인트
    - 전략 메서드를 가진 전략 객체
    - 전략 객체를 사용하는 컨텍스트
    - 전략 객체를 생성해 컨텍스트에 주입하는 클라이언트
- 템플릿 메서드 패턴과 유사
    - 상속 이용
- 전략 패턴: 객체 주입
    - 자바에서는 전략 패턴이 좀 더 많이 사용됨
- OCP, DIP 원칙 적용

# 템플릿 콜백 패턴

- 전략 패턴의 변형 → 전략을 익명 내부 클래스로 구현한 전략 패턴
- 의존성 주입에서 사용하는 특별한 형태의 전략 패턴
- 전략을 **익명 내부 클래스로 정의해서 사용**
- 예시
    - 전: 전사 코드와 각 무기 별 사운드
    - 후: 전사 코드 안에 executeWeapon이라는 전략 생성 코드가 컨텍스트, 군인 내부로 들어옴, 중복 부분을 컨텍스트로 이관
- OCP, DIP 원칙 적용

- 스프링 mvc: 프론트 컨트롤러 패턴, mvc 패턴 활용

